import{r as L,P as rn,v as an,Q as on,U as sn,k as ln,Z as cn,T as un,V as dn,$ as fn,E as pn,H as mn,X as hn,K as ee,j as o,a0 as gn,a1 as vn}from"./app-Do2TdiUf.js";import{p as kt}from"./index-BKNjMPK8.js";import{b as yn}from"./index-DMaU4ylk.js";function xn(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const bn=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function J(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let ce=null;function Tt(e={}){return ce||(e.includeStyleProperties?(ce=e.includeStyleProperties,ce):(ce=J(window.getComputedStyle(document.documentElement)),ce))}function je(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function wn(e){const t=je(e,"border-left-width"),n=je(e,"border-right-width");return e.clientWidth+t+n}function Cn(e){const t=je(e,"border-top-width"),n=je(e,"border-bottom-width");return e.clientHeight+t+n}function Mt(e,t={}){const n=t.width||wn(e),r=t.height||Cn(e);return{width:n,height:r}}function Sn(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const $=16384;function En(e){(e.width>$||e.height>$)&&(e.width>$&&e.height>$?e.width>e.height?(e.height*=$/e.width,e.width=$):(e.width*=$/e.height,e.height=$):e.width>$?(e.height*=$/e.width,e.width=$):(e.width*=$/e.height,e.height=$))}function Ae(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function _n(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Nn(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),_n(a)}const D=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||D(n,t)};function On(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function jn(e,t){return Tt(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function An(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?On(n):jn(n,r);return document.createTextNode(`${a}{${i}}`)}function gt(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const u=bn();try{t.className=`${t.className} ${u}`}catch{return}const s=document.createElement("style");s.appendChild(An(u,n,a,r)),t.appendChild(s)}function Pn(e,t,n){gt(e,t,":before",n),gt(e,t,":after",n)}const vt="application/font-woff",yt="image/jpeg",Rn={woff:vt,woff2:vt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:yt,jpeg:yt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function kn(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Be(e){const t=kn(e).toLowerCase();return Rn[t]||""}function Tn(e){return e.split(/,/)[1]}function Ue(e){return e.search(/^(data:)/)!==-1}function Mn(e,t){return`data:${t};base64,${e}`}async function Ft(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,u)=>{const s=new FileReader;s.onerror=u,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(p){u(p)}},s.readAsDataURL(a)})}const Le={};function Fn(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Ye(e,t,n){const r=Fn(e,t,n.includeQueryParams);if(Le[r]!=null)return Le[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await Ft(e,n.fetchRequestInit,({res:u,result:s})=>(t||(t=u.headers.get("Content-Type")||""),Tn(s)));a=Mn(i,t)}catch(i){a=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${e}`;i&&(u=typeof i=="string"?i:i.message),u&&console.warn(u)}return Le[r]=a,a}async function Dn(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Ae(t)}async function $n(e,t){if(e.currentSrc){const i=document.createElement("canvas"),u=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,u==null||u.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Ae(s)}const n=e.poster,r=Be(n),a=await Ye(n,r,t);return Ae(a)}async function Ln(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Te(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Un(e,t){return D(e,HTMLCanvasElement)?Dn(e):D(e,HTMLVideoElement)?$n(e,t):D(e,HTMLIFrameElement)?Ln(e,t):e.cloneNode(Dt(e))}const Wn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Dt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Hn(e,t,n){var r,a;if(Dt(t))return t;let i=[];return Wn(e)&&e.assignedNodes?i=J(e.assignedNodes()):D(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=J(e.contentDocument.body.childNodes):i=J(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||D(e,HTMLVideoElement)||await i.reduce((u,s)=>u.then(()=>Te(s,n)).then(p=>{p&&t.appendChild(p)}),Promise.resolve()),t}function zn(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):Tt(n).forEach(i=>{let u=a.getPropertyValue(i);i==="font-size"&&u.endsWith("px")&&(u=`${Math.floor(parseFloat(u.substring(0,u.length-2)))-.1}px`),D(e,HTMLIFrameElement)&&i==="display"&&u==="inline"&&(u="block"),i==="d"&&t.getAttribute("d")&&(u=`path(${t.getAttribute("d")})`),r.setProperty(i,u,a.getPropertyPriority(i))})}function In(e,t){D(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),D(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function qn(e,t){if(D(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function Bn(e,t,n){return D(t,Element)&&(zn(e,t,n),Pn(e,t,n),In(e,t),qn(e,t)),t}async function Yn(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const s=n[i].getAttribute("xlink:href");if(s){const p=e.querySelector(s),b=document.querySelector(s);!p&&b&&!r[s]&&(r[s]=await Te(b,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",u=document.createElementNS(i,"svg");u.setAttribute("xmlns",i),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const s=document.createElementNS(i,"defs");u.appendChild(s);for(let p=0;p<a.length;p++)s.appendChild(a[p]);e.appendChild(u)}return e}async function Te(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>Un(r,t)).then(r=>Hn(e,r,t)).then(r=>Bn(e,r,t)).then(r=>Yn(r,t))}const $t=/url\((['"]?)([^'"]+?)\1\)/g,Vn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Xn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Gn(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Kn(e){const t=[];return e.replace($t,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Ue(n))}async function Jn(e,t,n,r,a){try{const i=n?xn(t,n):t,u=Be(t);let s;return a||(s=await Ye(i,u,r)),e.replace(Gn(t),`$1${s}$3`)}catch{}return e}function Qn(e,{preferredFontFormat:t}){return t?e.replace(Xn,n=>{for(;;){const[r,,a]=Vn.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function Lt(e){return e.search($t)!==-1}async function Ut(e,t,n){if(!Lt(e))return e;const r=Qn(e,n);return Kn(r).reduce((i,u)=>i.then(s=>Jn(s,u,t,n)),Promise.resolve(r))}async function ue(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await Ut(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function Zn(e,t){await ue("background",e,t)||await ue("background-image",e,t),await ue("mask",e,t)||await ue("-webkit-mask",e,t)||await ue("mask-image",e,t)||await ue("-webkit-mask-image",e,t)}async function er(e,t){const n=D(e,HTMLImageElement);if(!(n&&!Ue(e.src))&&!(D(e,SVGImageElement)&&!Ue(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await Ye(r,Be(r),t);await new Promise((i,u)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...p)=>{try{i(t.onImageErrorHandler(...p))}catch(b){u(b)}}:u;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function tr(e,t){const r=J(e.childNodes).map(a=>Wt(a,t));await Promise.all(r).then(()=>e)}async function Wt(e,t){D(e,Element)&&(await Zn(e,t),await er(e,t),await tr(e,t))}function nr(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const xt={};async function bt(e){let t=xt[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},xt[e]=t,t}async function wt(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async u=>{let s=u.replace(r,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),Ft(s,t.fetchRequestInit,({result:p})=>(n=n.replace(u,`url(${p})`),[u,p]))});return Promise.all(i).then(()=>n)}function Ct(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const p=a.exec(r);if(p===null)break;t.push(p[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(u,"gi");for(;;){let p=i.exec(r);if(p===null){if(p=s.exec(r),p===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(p[0])}return t}async function rr(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{J(a.cssRules||[]).forEach((i,u)=>{if(i.type===CSSRule.IMPORT_RULE){let s=u+1;const p=i.href,b=bt(p).then(S=>wt(S,t)).then(S=>Ct(S).forEach(x=>{try{a.insertRule(x,x.startsWith("@import")?s+=1:a.cssRules.length)}catch(w){console.error("Error inserting rule from remote css",{rule:x,error:w})}})).catch(S=>{console.error("Error loading remote css",S.toString())});r.push(b)}})}catch(i){const u=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(bt(a.href).then(s=>wt(s,t)).then(s=>Ct(s).forEach(p=>{u.insertRule(p,u.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{J(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function ar(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Lt(t.style.getPropertyValue("src")))}async function or(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=J(e.ownerDocument.styleSheets),r=await rr(n,t);return ar(r)}function Ht(e){return e.trim().replace(/["']/g,"")}function sr(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(Ht(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function ir(e,t){const n=await or(e,t),r=sr(e);return(await Promise.all(n.filter(i=>r.has(Ht(i.style.fontFamily))).map(i=>{const u=i.parentStyleSheet?i.parentStyleSheet.href:null;return Ut(i.cssText,u,t)}))).join(`
`)}async function lr(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ir(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function cr(e,t={}){const{width:n,height:r}=Mt(e,t),a=await Te(e,t,!0);return await lr(a,t),await Wt(a,t),nr(a,t),await Nn(a,n,r)}async function ur(e,t={}){const{width:n,height:r}=Mt(e,t),a=await cr(e,t),i=await Ae(a),u=document.createElement("canvas"),s=u.getContext("2d"),p=t.pixelRatio||Sn(),b=t.canvasWidth||n,S=t.canvasHeight||r;return u.width=b*p,u.height=S*p,t.skipAutoScale||En(u),u.style.width=`${b}`,u.style.height=`${S}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,u.width,u.height)),s.drawImage(i,0,0,u.width,u.height),u}async function St(e,t={}){return(await ur(e,t)).toDataURL()}var We={exports:{}},re={},He={exports:{}},I={},ze={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",a=/^(input|select|textarea|button|object|iframe)$/;function i(x,w){return w.getPropertyValue("overflow")!=="visible"||x.scrollWidth<=0&&x.scrollHeight<=0}function u(x){var w=x.offsetWidth<=0&&x.offsetHeight<=0;if(w&&!x.innerHTML)return!0;try{var E=window.getComputedStyle(x),A=E.getPropertyValue("display");return w?A!==r&&i(x,E):A===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(x){for(var w=x,E=x.getRootNode&&x.getRootNode();w&&w!==document.body;){if(E&&w===E&&(w=E.host.parentNode),u(w))return!1;w=w.parentNode}return!0}function p(x,w){var E=x.nodeName.toLowerCase(),A=a.test(E)&&!x.disabled||E==="a"&&x.href||w;return A&&s(x)}function b(x){var w=x.getAttribute("tabindex");w===null&&(w=void 0);var E=isNaN(w);return(E||w>=0)&&p(x,!E)}function S(x){var w=[].slice.call(x.querySelectorAll("*"),0).reduce(function(E,A){return E.concat(A.shadowRoot?S(A.shadowRoot):[A])},[]);return w.filter(b)}e.exports=t.default})(ze,ze.exports);var zt=ze.exports;Object.defineProperty(I,"__esModule",{value:!0});I.resetState=mr;I.log=hr;I.handleBlur=ye;I.handleFocus=xe;I.markForFocusLater=gr;I.returnFocus=vr;I.popWithoutFocus=yr;I.setupScopedFocus=xr;I.teardownScopedFocus=br;var dr=zt,fr=pr(dr);function pr(e){return e&&e.__esModule?e:{default:e}}var fe=[],de=null,Ie=!1;function mr(){fe=[]}function hr(){}function ye(){Ie=!0}function xe(){if(Ie){if(Ie=!1,!de)return;setTimeout(function(){if(!de.contains(document.activeElement)){var e=(0,fr.default)(de)[0]||de;e.focus()}},0)}}function gr(){fe.push(document.activeElement)}function vr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{fe.length!==0&&(t=fe.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function yr(){fe.length>0&&fe.pop()}function xr(e){de=e,window.addEventListener?(window.addEventListener("blur",ye,!1),document.addEventListener("focus",xe,!0)):(window.attachEvent("onBlur",ye),document.attachEvent("onFocus",xe))}function br(){de=null,window.addEventListener?(window.removeEventListener("blur",ye),document.removeEventListener("focus",xe)):(window.detachEvent("onBlur",ye),document.detachEvent("onFocus",xe))}var qe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=zt,r=a(n);function a(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function u(s,p){var b=(0,r.default)(s);if(!b.length){p.preventDefault();return}var S=void 0,x=p.shiftKey,w=b[0],E=b[b.length-1],A=i();if(s===A){if(!x)return;S=E}if(E===A&&!x&&(S=w),w===A&&x&&(S=E),S){p.preventDefault(),S.focus();return}var W=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),g=W!=null&&W[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(g){var B=b.indexOf(A);if(B>-1&&(B+=x?-1:1),S=b[B],typeof S>"u"){p.preventDefault(),S=x?E:w,S.focus();return}p.preventDefault(),S.focus()}}e.exports=t.default})(qe,qe.exports);var wr=qe.exports,q={},Cr=function(){},Sr=Cr,z={},It={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(It);var Er=It.exports;Object.defineProperty(z,"__esModule",{value:!0});z.canUseDOM=z.SafeNodeList=z.SafeHTMLCollection=void 0;var _r=Er,Nr=Or(_r);function Or(e){return e&&e.__esModule?e:{default:e}}var Me=Nr.default,jr=Me.canUseDOM?window.HTMLElement:{};z.SafeHTMLCollection=Me.canUseDOM?window.HTMLCollection:{};z.SafeNodeList=Me.canUseDOM?window.NodeList:{};z.canUseDOM=Me.canUseDOM;z.default=jr;Object.defineProperty(q,"__esModule",{value:!0});q.resetState=Tr;q.log=Mr;q.assertNodeList=qt;q.setElement=Fr;q.validateElement=Ve;q.hide=Dr;q.show=$r;q.documentNotReadyOrSSRTesting=Lr;var Ar=Sr,Pr=kr(Ar),Rr=z;function kr(e){return e&&e.__esModule?e:{default:e}}var U=null;function Tr(){U&&(U.removeAttribute?U.removeAttribute("aria-hidden"):U.length!=null?U.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(U).forEach(function(e){return e.removeAttribute("aria-hidden")})),U=null}function Mr(){}function qt(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Fr(e){var t=e;if(typeof t=="string"&&Rr.canUseDOM){var n=document.querySelectorAll(t);qt(n,t),t=n}return U=t||U,U}function Ve(e){var t=e||U;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Pr.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Dr(e){var t=!0,n=!1,r=void 0;try{for(var a=Ve(e)[Symbol.iterator](),i;!(t=(i=a.next()).done);t=!0){var u=i.value;u.setAttribute("aria-hidden","true")}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function $r(e){var t=!0,n=!1,r=void 0;try{for(var a=Ve(e)[Symbol.iterator](),i;!(t=(i=a.next()).done);t=!0){var u=i.value;u.removeAttribute("aria-hidden")}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function Lr(){U=null}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.resetState=Ur;pe.log=Wr;var ge={},ve={};function Et(e,t){e.classList.remove(t)}function Ur(){var e=document.getElementsByTagName("html")[0];for(var t in ge)Et(e,ge[t]);var n=document.body;for(var r in ve)Et(n,ve[r]);ge={},ve={}}function Wr(){}var Hr=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},zr=function(t,n){return t[n]&&(t[n]-=1),n},Ir=function(t,n,r){r.forEach(function(a){Hr(n,a),t.add(a)})},qr=function(t,n,r){r.forEach(function(a){zr(n,a),n[a]===0&&t.remove(a)})};pe.add=function(t,n){return Ir(t.classList,t.nodeName.toLowerCase()=="html"?ge:ve,n.split(" "))};pe.remove=function(t,n){return qr(t.classList,t.nodeName.toLowerCase()=="html"?ge:ve,n.split(" "))};var me={};Object.defineProperty(me,"__esModule",{value:!0});me.log=Yr;me.resetState=Vr;function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Bt=function e(){var t=this;Br(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Pe=new Bt;function Yr(){console.log("portalOpenInstances ----------"),console.log(Pe.openInstances.length),Pe.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Vr(){Pe=new Bt}me.default=Pe;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.resetState=Jr;Xe.log=Qr;var Xr=me,Gr=Kr(Xr);function Kr(e){return e&&e.__esModule?e:{default:e}}var k=void 0,H=void 0,ne=[];function Jr(){for(var e=[k,H],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}k=H=null,ne=[]}function Qr(){console.log("bodyTrap ----------"),console.log(ne.length);for(var e=[k,H],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function _t(){ne.length!==0&&ne[ne.length-1].focusContent()}function Zr(e,t){!k&&!H&&(k=document.createElement("div"),k.setAttribute("data-react-modal-body-trap",""),k.style.position="absolute",k.style.opacity="0",k.setAttribute("tabindex","0"),k.addEventListener("focus",_t),H=k.cloneNode(),H.addEventListener("focus",_t)),ne=t,ne.length>0?(document.body.firstChild!==k&&document.body.insertBefore(k,document.body.firstChild),document.body.lastChild!==H&&document.body.appendChild(H)):(k.parentElement&&k.parentElement.removeChild(k),H.parentElement&&H.parentElement.removeChild(H))}Gr.default.subscribe(Zr);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(v){for(var f=1;f<arguments.length;f++){var d=arguments[f];for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(v[l]=d[l])}return v},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},a=function(){function v(f,d){for(var l=0;l<d.length;l++){var h=d[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,d,l){return d&&v(f.prototype,d),l&&v(f,l),f}}(),i=L,u=kt,s=ae(u),p=I,b=X(p),S=wr,x=ae(S),w=q,E=X(w),A=pe,W=X(A),g=z,B=ae(g),Ce=me,Se=ae(Ce);function X(v){if(v&&v.__esModule)return v;var f={};if(v!=null)for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(f[d]=v[d]);return f.default=v,f}function ae(v){return v&&v.__esModule?v:{default:v}}function oe(v,f){if(!(v instanceof f))throw new TypeError("Cannot call a class as a function")}function Ge(v,f){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:v}function Ee(v,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);v.prototype=Object.create(f&&f.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(v,f):v.__proto__=f)}var se={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},he=function(f){return f.code==="Tab"||f.keyCode===9},_=function(f){return f.code==="Escape"||f.keyCode===27},Y=0,Q=function(v){Ee(f,v);function f(d){oe(this,f);var l=Ge(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,d));return l.setOverlayRef=function(h){l.overlay=h,l.props.overlayRef&&l.props.overlayRef(h)},l.setContentRef=function(h){l.content=h,l.props.contentRef&&l.props.contentRef(h)},l.afterClose=function(){var h=l.props,j=h.appElement,R=h.ariaHideApp,O=h.htmlOpenClassName,V=h.bodyOpenClassName,F=h.parentSelector,T=F&&F().ownerDocument||document;V&&W.remove(T.body,V),O&&W.remove(T.getElementsByTagName("html")[0],O),R&&Y>0&&(Y-=1,Y===0&&E.show(j)),l.props.shouldFocusAfterRender&&(l.props.shouldReturnFocusAfterClose?(b.returnFocus(l.props.preventScroll),b.teardownScopedFocus()):b.popWithoutFocus()),l.props.onAfterClose&&l.props.onAfterClose(),Se.default.deregister(l)},l.open=function(){l.beforeOpen(),l.state.afterOpen&&l.state.beforeClose?(clearTimeout(l.closeTimer),l.setState({beforeClose:!1})):(l.props.shouldFocusAfterRender&&(b.setupScopedFocus(l.node),b.markForFocusLater()),l.setState({isOpen:!0},function(){l.openAnimationFrame=requestAnimationFrame(function(){l.setState({afterOpen:!0}),l.props.isOpen&&l.props.onAfterOpen&&l.props.onAfterOpen({overlayEl:l.overlay,contentEl:l.content})})}))},l.close=function(){l.props.closeTimeoutMS>0?l.closeWithTimeout():l.closeWithoutTimeout()},l.focusContent=function(){return l.content&&!l.contentHasFocus()&&l.content.focus({preventScroll:!0})},l.closeWithTimeout=function(){var h=Date.now()+l.props.closeTimeoutMS;l.setState({beforeClose:!0,closesAt:h},function(){l.closeTimer=setTimeout(l.closeWithoutTimeout,l.state.closesAt-Date.now())})},l.closeWithoutTimeout=function(){l.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},l.afterClose)},l.handleKeyDown=function(h){he(h)&&(0,x.default)(l.content,h),l.props.shouldCloseOnEsc&&_(h)&&(h.stopPropagation(),l.requestClose(h))},l.handleOverlayOnClick=function(h){l.shouldClose===null&&(l.shouldClose=!0),l.shouldClose&&l.props.shouldCloseOnOverlayClick&&(l.ownerHandlesClose()?l.requestClose(h):l.focusContent()),l.shouldClose=null},l.handleContentOnMouseUp=function(){l.shouldClose=!1},l.handleOverlayOnMouseDown=function(h){!l.props.shouldCloseOnOverlayClick&&h.target==l.overlay&&h.preventDefault()},l.handleContentOnClick=function(){l.shouldClose=!1},l.handleContentOnMouseDown=function(){l.shouldClose=!1},l.requestClose=function(h){return l.ownerHandlesClose()&&l.props.onRequestClose(h)},l.ownerHandlesClose=function(){return l.props.onRequestClose},l.shouldBeClosed=function(){return!l.state.isOpen&&!l.state.beforeClose},l.contentHasFocus=function(){return document.activeElement===l.content||l.content.contains(document.activeElement)},l.buildClassName=function(h,j){var R=(typeof j>"u"?"undefined":r(j))==="object"?j:{base:se[h],afterOpen:se[h]+"--after-open",beforeClose:se[h]+"--before-close"},O=R.base;return l.state.afterOpen&&(O=O+" "+R.afterOpen),l.state.beforeClose&&(O=O+" "+R.beforeClose),typeof j=="string"&&j?O+" "+j:O},l.attributesFromObject=function(h,j){return Object.keys(j).reduce(function(R,O){return R[h+"-"+O]=j[O],R},{})},l.state={afterOpen:!1,beforeClose:!1},l.shouldClose=null,l.moveFromContentToOverlay=null,l}return a(f,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(l,h){this.props.isOpen&&!l.isOpen?this.open():!this.props.isOpen&&l.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!h.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var l=this.props,h=l.appElement,j=l.ariaHideApp,R=l.htmlOpenClassName,O=l.bodyOpenClassName,V=l.parentSelector,F=V&&V().ownerDocument||document;O&&W.add(F.body,O),R&&W.add(F.getElementsByTagName("html")[0],R),j&&(Y+=1,E.hide(h)),Se.default.register(this)}},{key:"render",value:function(){var l=this.props,h=l.id,j=l.className,R=l.overlayClassName,O=l.defaultStyles,V=l.children,F=j?{}:O.content,T=R?{}:O.overlay;if(this.shouldBeClosed())return null;var Fe={ref:this.setOverlayRef,className:this.buildClassName("overlay",R),style:n({},T,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},De=n({id:h,ref:this.setContentRef,style:n({},F,this.props.style.content),className:this.buildClassName("content",j),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),_e=this.props.contentElement(De,V);return this.props.overlayElement(Fe,_e)}}]),f}(i.Component);Q.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Q.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(B.default),s.default.instanceOf(g.SafeHTMLCollection),s.default.instanceOf(g.SafeNodeList),s.default.arrayOf(s.default.instanceOf(B.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=Q,e.exports=t.default})(He,He.exports);var ea=He.exports;function Yt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Vt(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Xt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Yt.__suppressDeprecationWarning=!0;Vt.__suppressDeprecationWarning=!0;Xt.__suppressDeprecationWarning=!0;function ta(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+u+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Yt,t.componentWillReceiveProps=Vt),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Xt;var s=t.componentDidUpdate;t.componentDidUpdate=function(b,S,x){var w=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:x;s.call(this,b,S,w)}}return e}const na=Object.freeze(Object.defineProperty({__proto__:null,polyfill:ta},Symbol.toStringTag,{value:"Module"})),ra=rn(na);Object.defineProperty(re,"__esModule",{value:!0});re.bodyOpenClassName=re.portalClassName=void 0;var Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aa=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gt=L,Re=be(Gt),oa=an,ke=be(oa),sa=kt,y=be(sa),ia=ea,Ot=be(ia),la=q,ca=da(la),K=z,jt=be(K),ua=ra;function da(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function be(e){return e&&e.__esModule?e:{default:e}}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ma=re.portalClassName="ReactModalPortal",ha=re.bodyOpenClassName="ReactModal__Body--open",te=K.canUseDOM&&ke.default.createPortal!==void 0,Pt=function(t){return document.createElement(t)},Rt=function(){return te?ke.default.createPortal:ke.default.unstable_renderSubtreeIntoContainer};function Oe(e){return e()}var we=function(e){pa(t,e);function t(){var n,r,a,i;fa(this,t);for(var u=arguments.length,s=Array(u),p=0;p<u;p++)s[p]=arguments[p];return i=(r=(a=At(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),a),a.removePortal=function(){!te&&ke.default.unmountComponentAtNode(a.node);var b=Oe(a.props.parentSelector);b&&b.contains(a.node)?b.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(b){a.portal=b},a.renderPortal=function(b){var S=Rt(),x=S(a,Re.default.createElement(Ot.default,Nt({defaultStyles:t.defaultStyles},b)),a.node);a.portalRef(x)},r),At(a,i)}return aa(t,[{key:"componentDidMount",value:function(){if(K.canUseDOM){te||(this.node=Pt("div")),this.node.className=this.props.portalClassName;var r=Oe(this.props.parentSelector);r.appendChild(this.node),!te&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var a=Oe(r.parentSelector),i=Oe(this.props.parentSelector);return{prevParent:a,nextParent:i}}},{key:"componentDidUpdate",value:function(r,a,i){if(K.canUseDOM){var u=this.props,s=u.isOpen,p=u.portalClassName;r.portalClassName!==p&&(this.node.className=p);var b=i.prevParent,S=i.nextParent;S!==b&&(b.removeChild(this.node),S.appendChild(this.node)),!(!r.isOpen&&!s)&&!te&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!K.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,a=Date.now(),i=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||a+this.props.closeTimeoutMS);i?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-a)):this.removePortal()}}},{key:"render",value:function(){if(!K.canUseDOM||!te)return null;!this.node&&te&&(this.node=Pt("div"));var r=Rt();return r(Re.default.createElement(Ot.default,Nt({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){ca.setElement(r)}}]),t}(Gt.Component);we.propTypes={isOpen:y.default.bool.isRequired,style:y.default.shape({content:y.default.object,overlay:y.default.object}),portalClassName:y.default.string,bodyOpenClassName:y.default.string,htmlOpenClassName:y.default.string,className:y.default.oneOfType([y.default.string,y.default.shape({base:y.default.string.isRequired,afterOpen:y.default.string.isRequired,beforeClose:y.default.string.isRequired})]),overlayClassName:y.default.oneOfType([y.default.string,y.default.shape({base:y.default.string.isRequired,afterOpen:y.default.string.isRequired,beforeClose:y.default.string.isRequired})]),appElement:y.default.oneOfType([y.default.instanceOf(jt.default),y.default.instanceOf(K.SafeHTMLCollection),y.default.instanceOf(K.SafeNodeList),y.default.arrayOf(y.default.instanceOf(jt.default))]),onAfterOpen:y.default.func,onRequestClose:y.default.func,closeTimeoutMS:y.default.number,ariaHideApp:y.default.bool,shouldFocusAfterRender:y.default.bool,shouldCloseOnOverlayClick:y.default.bool,shouldReturnFocusAfterClose:y.default.bool,preventScroll:y.default.bool,parentSelector:y.default.func,aria:y.default.object,data:y.default.object,role:y.default.string,contentLabel:y.default.string,shouldCloseOnEsc:y.default.bool,overlayRef:y.default.func,contentRef:y.default.func,id:y.default.string,overlayElement:y.default.func,contentElement:y.default.func};we.defaultProps={isOpen:!1,portalClassName:ma,bodyOpenClassName:ha,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Re.default.createElement("div",t,n)},contentElement:function(t,n){return Re.default.createElement("div",t,n)}};we.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,ua.polyfill)(we);re.default=we;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=re,r=a(n);function a(i){return i&&i.__esModule?i:{default:i}}t.default=r.default,e.exports=t.default})(We,We.exports);var ga=We.exports;const va=on(ga),ya={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",borderRadius:"10px",padding:"20px",maxWidth:"90vw",maxHeight:"90vh",zIndex:1001,overflowY:"auto"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:999}},Ca=()=>{var Ke,Je,Qe,Ze,et,tt,nt,rt;const{slug:e}=sn(),t=ln(),n=cn(),r=un(),[a,i]=L.useState("front"),[u,s]=L.useState(!1),[p,b]=L.useState("text"),[S,x]=L.useState(!1),[w,E]=L.useState(null),[A,W]=L.useState({}),{data:g,isLoading:B,error:Ce}=dn(e),[Se,{isLoading:X}]=fn(),[ae,{isLoading:oe}]=pn(),{data:Ge}=mn(),[Ee]=hn(),{redo:se,cartItemId:he}=r.state||{};L.useEffect(()=>{se&&he&&Ee(he).unwrap().then(()=>ee.success("Previous customization removed. Start fresh!")).catch(()=>ee.error("Failed to remove old item"))},[se,he,Ee]);const[_,Y]=L.useState({front:{texts:[{id:Date.now(),title:"",titleColor:"black",textSize:18,fontFamily:"Anton",xAxis:50,yAxis:50}],uploadedImage:null,imagePosition:"below",imageXAxis:50,imageYAxis:30,imageSize:50,containerWidth:240,containerHeight:240,containerXAxis:50,containerYAxis:50},back:{texts:[{id:Date.now()+1,title:"",titleColor:"black",textSize:18,fontFamily:"Anton",xAxis:50,yAxis:50}],uploadedImage:null,imagePosition:"below",imageXAxis:50,imageYAxis:30,imageSize:50,containerWidth:240,containerHeight:240,containerXAxis:50,containerYAxis:50}}),Q=L.useRef(null),v=L.useRef(null),f=L.useRef(null),d=_[a],l={left:`${d.imageXAxis}%`,top:`${d.imageYAxis}%`,transform:"translate(-50%, -50%)",width:`${d.imageSize}%`,maxWidth:"200px",zIndex:d.imagePosition==="below"?1:10},h={position:"absolute",width:`${d.containerWidth}px`,height:`${d.containerHeight}px`,left:`${d.containerXAxis}%`,top:`${d.containerYAxis}%`,transform:"translate(-50%, -50%)",overflow:"hidden",pointerEvents:"none",zIndex:5},j=[{id:"glamour",name:"Glamour",value:"glamour"},{id:"anton",name:"Anton",value:"Anton"},{id:"abril",name:"Abril Fatface",value:"Abril Fatface"},{id:"leagueSparton",name:"League Spartan",value:"League Spartan"},{id:"yesevaOne",name:"Yeseva One",value:"Yeseva One"},{id:"chewy",name:"Chewy",value:"Chewy"},{id:"quicksand",name:"Quicksand",value:"Quicksand"},{id:"telegraph",name:"Telegraph",value:"telegraph"},{id:"futura",name:"Futura",value:"futura"},{id:"london",name:"London",value:"london"},{id:"lovelo",name:"Lovelo",value:"lovelo"},{id:"etna",name:"Etna",value:"etna"},{id:"copper",name:"Copper",value:"copper"}],R=[{id:"1",value:"#cc0000"},{id:"2",value:"#0025cc"},{id:"3",value:"#2e6417"},{id:"4",value:"#17320b"},{id:"5",value:"#004aad"},{id:"6",value:"#cc007e"},{id:"7",value:"#bc3fde"},{id:"8",value:"#ff751f"},{id:"9",value:"#cc4e00"},{id:"10",value:"#c28e4a"},{id:"11",value:"#744383"},{id:"12",value:"#fb475e"},{id:"13",value:"#ea71e7"},{id:"14",value:"#f0efec"},{id:"15",value:"#000000"}],O=()=>{const c={id:Date.now(),title:"",titleColor:"black",textSize:18,fontFamily:"Anton",xAxis:50,yAxis:50};Y(C=>({...C,[a]:{...C[a],texts:[...C[a].texts,c]}}))},V=c=>{Y(C=>({...C,[a]:{...C[a],texts:C[a].texts.filter(N=>N.id!==c)}}))},F=(c,C)=>{Y(N=>({...N,[a]:{...N[a],texts:N[a].texts.map(m=>m.id===c?{...m,...C}:m)}}))},T=c=>{Y(C=>({...C,[a]:{...C[a],...c}}))},Fe=c=>{const C=c.target.files[0];if(C){const N=new FileReader;N.onload=m=>T({uploadedImage:m.target.result}),N.readAsDataURL(C)}},De=()=>{T({uploadedImage:null}),Q.current&&(Q.current.value="")},_e=async c=>{await document.fonts.ready;const C=a;if(i(c),await new Promise(m=>setTimeout(m,100)),!v.current||!f.current)throw i(C),new Error(`Preview not ready for ${c}`);let N=f.current.className;try{f.current.className=N.replace(/border-2 border-dotted border-white/,"");const m=v.current.querySelector("img");if(!m)throw new Error(`Base image not found for ${c}`);(m.complete===!1||m.naturalWidth===0)&&await new Promise((G,Ne)=>{m.onload=G,m.onerror=()=>Ne(new Error(`Failed to load ${c} image`)),m.complete&&m.naturalWidth!==0&&G()});const ie=await St(v.current,{cacheBust:!0,pixelRatio:2,backgroundColor:"#ffffff",canvasWidth:700,canvasHeight:600,style:{width:"700px",height:"600px"}});return f.current.className=N,i(C),ie}catch(m){throw f.current.className=N,i(C),E(`Failed to generate ${c} image: ${m.message}`),m}},Kt=async()=>{var c,C,N,m,ie,G,Ne,at,ot,st,it,lt,ct,ut,dt,ft;if(!(S||X||oe)){x(!0);try{await document.fonts.ready;const M=_.front.texts.some(P=>P.title.trim())||_.front.uploadedImage,Z=_.back.texts.some(P=>P.title.trim())||_.back.uploadedImage;if(!M&&!Z){ee.error("Please customize at least one side!");return}if(!((C=(c=g==null?void 0:g.product)==null?void 0:c.customization)!=null&&C.front_image)&&M)throw new Error("Front base image is missing.");if(!((m=(N=g==null?void 0:g.product)==null?void 0:N.customization)!=null&&m.back_image)&&Z)throw new Error("Back base image is missing.");let pt="",mt="";M&&(pt=await _e("front")),Z&&(mt=await _e("back"));const en=M&&Z?"both":M?"front":"back",tn={product_id:(ie=g==null?void 0:g.product)==null?void 0:ie.id,side:en,front_price:M?((Ne=(G=g==null?void 0:g.product)==null?void 0:G.customization)==null?void 0:Ne.front_price)||4:0,back_price:Z?(ot=(at=g==null?void 0:g.product)==null?void 0:at.customization)==null?void 0:ot.back_price:0,both_price:M&&Z?((it=(st=g==null?void 0:g.product)==null?void 0:st.customization)==null?void 0:it.both_price)||8:0,front_image:pt,back_image:mt,text_front:JSON.stringify(_.front.texts.map(P=>({title:P.title,x_position:`${P.xAxis}%`,y_position:`${P.yAxis}%`,size:`${P.textSize}px`,color:P.titleColor,font_family:P.fontFamily}))),text_back:JSON.stringify(_.back.texts.map(P=>({title:P.title,x_position:`${P.xAxis}%`,y_position:`${P.yAxis}%`,size:`${P.textSize}px`,color:P.titleColor,font_family:P.fontFamily}))),container_front:JSON.stringify({width:_.front.containerWidth,height:_.front.containerHeight,x_position:`${_.front.containerXAxis}%`,y_position:`${_.front.containerYAxis}%`}),container_back:JSON.stringify({width:_.front.containerWidth,height:_.front.containerHeight,x_position:`${_.back.containerXAxis}%`,y_position:`${_.back.containerYAxis}%`}),image_front:_.front.uploadedImage?JSON.stringify({position:"below",x_position:`${_.front.imageXAxis}%`,y_position:`${_.front.imageYAxis}%`,size:`${_.front.imageSize}%`}):"",image_back:_.back.uploadedImage?JSON.stringify({position:"below",x_position:`${_.back.imageXAxis}%`,y_position:`${_.back.imageYAxis}%`,size:`${_.back.imageSize}%`}):"",_prevent_duplicate:Date.now()},le=await Se(tn).unwrap(),ht=((lt=le==null?void 0:le.data)==null?void 0:lt.customization_id)||(le==null?void 0:le.customization_id);if(!ht)throw new Error("Customization ID not returned");const nn=M&&Z?((ut=(ct=g==null?void 0:g.product)==null?void 0:ct.customization)==null?void 0:ut.both_price)||8:4;await ae({product_id:(dt=g==null?void 0:g.product)==null?void 0:dt.id,qty:1,customization_id:ht,price:nn}).unwrap(),n(vn.util.invalidateTags(["Cart"])),ee.success("Successfully added to cart!"),t("/cart")}catch(M){ee.error(`Failed: ${((ft=M==null?void 0:M.data)==null?void 0:ft.message)||(M==null?void 0:M.message)||"Unknown error"}`)}finally{x(!1)}}},Jt=async()=>{var C;if(!v.current)return;await document.fonts.ready;let c=((C=f.current)==null?void 0:C.className)||"";try{f.current&&(f.current.className=c.replace(/border-2 border-dotted border-white/,""));const N=await St(v.current,{cacheBust:!0,pixelRatio:2});f.current&&(f.current.className=c);const m=document.createElement("a");m.download=`custom-${a}.png`,m.href=N,m.click()}catch{f.current&&(f.current.className=c),ee.error("Download failed")}},Qt=c=>{i(c),E(null)},Zt=async()=>{var c,C;if(await document.fonts.ready,!((C=(c=g==null?void 0:g.product)==null?void 0:c.customization)!=null&&C[a+"_image"])){ee.error(`No ${a} image available.`);return}s(!0)},$e=()=>s(!1);return B?o.jsx("h2",{className:"text-center text-white",children:"Loading..."}):Ce?o.jsxs("h2",{className:"text-center text-red-500",children:["Error: ",Ce.message]}):!((Je=(Ke=g==null?void 0:g.product)==null?void 0:Ke.customization)!=null&&Je.front_image)&&!((Ze=(Qe=g==null?void 0:g.product)==null?void 0:Qe.customization)!=null&&Ze.back_image)?o.jsx("h2",{className:"text-center text-yellow-500",children:"No customization available."}):B?o.jsx("div",{className:"min-h-screen bg-dark1 py-8 px-1 lg:px-4",children:o.jsx("div",{className:"w-full 2xl:max-w-4/5 mx-auto bg-dark2 rounded-xl overflow-hidden animate-pulse",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 lg:p-6",children:[o.jsx("div",{className:"md:hidden",children:o.jsxs("div",{className:"bg-dark1/50 p-6 rounded-xl",children:[o.jsx("div",{className:"h-8 bg-gray-700 rounded w-48 mx-auto mb-6"}),o.jsx("div",{className:"bg-gray-800 rounded-lg h-96 w-full mx-auto"})]})}),o.jsxs("div",{className:"bg-dark1 p-6 rounded-lg space-y-6",children:[o.jsx("div",{className:"flex gap-2 rounded-xl overflow-hidden",children:[...Array(3)].map((c,C)=>o.jsx("div",{className:"flex-1 h-12 bg-gray-700 rounded-lg"},C))}),o.jsxs("div",{className:"space-y-4",children:[[...Array(2)].map((c,C)=>o.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-xl p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("div",{className:"h-6 bg-gray-700 rounded w-32"}),o.jsx("div",{className:"h-6 bg-gray-700 rounded w-20"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-12 bg-gray-700 rounded"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"h-10 bg-gray-700 rounded"}),o.jsx("div",{className:"h-10 bg-gray-700 rounded"})]}),o.jsx("div",{className:"h-10 bg-gray-700 rounded"}),o.jsx("div",{className:"flex gap-3",children:[...Array(5)].map((N,m)=>o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full"},m))})]})]},C)),o.jsx("div",{className:"h-12 bg-gray-700 rounded-xl"})]}),o.jsx("div",{className:"h-14 bg-gray-700 rounded-2xl"})]}),o.jsxs("div",{className:"hidden md:block sticky top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{className:"flex gap-2",children:[...Array(2)].map((c,C)=>o.jsx("div",{className:"h-10 w-24 bg-gray-700 rounded-lg"},C))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"}),o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"})]})]}),o.jsx("div",{className:"bg-gray-800 rounded-lg h-96 w-full mx-auto"})]})]})})}):o.jsxs("div",{className:"min-h-screen bg-dark1 py-8 px-1 lg:px-4",children:[o.jsx("div",{className:"w-full 2xl:max-w-4/5 mx-auto bg-dark2 rounded-xl overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 lg:p-6 min-h-screen md:items-start",children:[o.jsxs("div",{className:"order-2 md:order-1 bg-dark1 p-4 rounded-lg shadow-md md:max-h-screen md:overflow-y-auto",children:[o.jsx("div",{className:"flex mb-8   rounded-xl   overflow-hidden border border-gray-700",children:["text","image","container"].map(c=>o.jsx("button",{onClick:()=>b(c),className:`flex-1 py-3 px-6 text-sm font-semibold rounded-lg transition-all duration-300 ${p===c?"bg-cream text-dark1 shadow-lg shadow-purple-500/30":"text-gray-400 hover:text-white hover:bg-gray-700/70"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),p==="text"&&o.jsxs("div",{className:"space-y-4",children:[d.texts.map((c,C)=>{const N=A[c.id]??C===0;return o.jsxs("div",{className:"border border-gray-600 rounded-xl overflow-hidden bg-gray-800/60 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-700/80 transition-all duration-200",onClick:()=>W(m=>({...m,[c.id]:!m[c.id]})),children:[o.jsxs("h4",{className:"text-md font-bold text-white flex items-center gap-3",children:[o.jsxs("span",{className:"text-cream",children:["Text ",C+1]}),c.title&&o.jsxs("span",{className:"text-sm font-normal text-gray truncate max-w-xs",children:['"',c.title,'"']})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[d.texts.length>1&&o.jsx("button",{onClick:m=>{m.stopPropagation(),V(c.id),W(ie=>{const G={...ie};return delete G[c.id],G})},className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Remove"}),o.jsx("svg",{className:`w-6 h-6 text-gray-400 transition-transform duration-300 ${N?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),N&&o.jsxs("div",{className:"p-6 border-t border-gray-700 space-y-6 bg-gray-800/40",children:[o.jsx("input",{type:"text",value:c.title,onChange:m=>F(c.id,{title:m.target.value}),className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition",placeholder:"Enter your text here..."}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["X Position:"," ",c.xAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:c.xAxis,onChange:m=>F(c.id,{xAxis:+m.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Y Position:"," ",c.yAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:c.yAxis,onChange:m=>F(c.id,{yAxis:+m.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Text Size:"," ",c.textSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"72",value:c.textSize,onChange:m=>F(c.id,{textSize:+m.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Text Color"}),o.jsx("div",{className:"flex gap-3 flex-wrap",children:R.map(m=>o.jsx("button",{onClick:()=>F(c.id,{titleColor:m.value}),className:`w-12 h-12 rounded-full border-4 transition-all ${c.titleColor===m.value?"border-white shadow-lg scale-110":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:m.value}},m.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Font Style"}),o.jsx("select",{value:c.fontFamily,onChange:m=>F(c.id,{fontFamily:m.target.value}),className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-purple-500",children:j.map(m=>o.jsx("option",{value:m.value,children:m.name},m.id))})]})]})]},c.id)}),o.jsx("button",{onClick:O,className:"w-full py-3 mt-2 bg-linear-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold text-md rounded-xl shadow-2xl  ",children:"+ Add New Text"})]}),p==="image"&&o.jsx("div",{children:o.jsxs("div",{className:"mb-3 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-semibold text-cream mb-1",children:"Upload Image/Sticker"}),o.jsx("div",{className:"mb-1",children:o.jsx("input",{type:"file",ref:Q,onChange:Fe,accept:"image/*",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-lg text-cream cursor-pointer focus:outline-none"})}),d.uploadedImage&&o.jsxs("div",{className:"space-y-4 mt-4 p-3 bg-dark1 rounded-lg",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image X-Position:"," ",d.imageXAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:d.imageXAxis,onChange:c=>T({imageXAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image Y-Position:"," ",d.imageYAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:d.imageYAxis,onChange:c=>T({imageYAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image Size:"," ",d.imageSize,"%"]}),o.jsx("input",{type:"range",min:"10",max:"100",value:d.imageSize,onChange:c=>T({imageSize:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]})]}),o.jsx("button",{onClick:De,className:"w-full bg-linear-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-bold py-3 rounded-lg shadow-md transition-all duration-300",children:"Remove Image"})]})]})}),p==="container"&&o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-cream mb-6 text-center",children:"Design Area Size & Position"}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-300",children:["Width:"," ",o.jsxs("span",{className:"text-cream font-bold",children:[d.containerWidth,"px"]})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"140px - 400px"})]}),o.jsx("input",{type:"range",min:"140",max:"400",step:"10",value:d.containerWidth,onChange:c=>T({containerWidth:+c.target.value}),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-accent",style:{background:`linear-gradient(to right, #d946ef ${(d.containerWidth-140)/260*100}%, #374151 ${(d.containerWidth-140)/260*100}%)`}})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-300",children:["Height:"," ",o.jsxs("span",{className:"text-cream font-bold",children:[d.containerHeight,"px"]})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"140px - 400px"})]}),o.jsx("input",{type:"range",min:"140",max:"400",step:"10",value:d.containerHeight,onChange:c=>T({containerHeight:+c.target.value}),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-accent",style:{background:`linear-gradient(to right, #d946ef ${(d.containerHeight-140)/260*100}%, #374151 ${(d.containerHeight-140)/260*100}%)`}})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["X Position:"," ",d.containerXAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:d.containerXAxis,onChange:c=>T({containerXAxis:+c.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Y Position:"," ",d.containerYAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:d.containerYAxis,onChange:c=>T({containerYAxis:+c.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]})]}),o.jsx("button",{onClick:()=>T({containerWidth:240,containerHeight:240,containerXAxis:50,containerYAxis:50}),className:"w-full mt-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition",children:"Reset to Default (240240)"})]})}),o.jsx("button",{onClick:Kt,disabled:S||X||oe,className:`w-full py-3 mt-3 rounded-2xl font-bold text-lg text-white shadow-2xl transform transition-all duration-500 ${S||X||oe?"bg-gray-700 cursor-not-allowed opacity-70":"bg-linear-to-r from-pink-600 via-purple-600 to-indigo-600 hover:from-pink-700 hover:via-purple-700 hover:to-indigo-700 shadow-pink-500/50 active:scale-98"}`,children:S||X||oe?o.jsxs("span",{className:"flex items-center justify-center gap-3",children:[o.jsxs("svg",{className:"animate-spin h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Customize & Add to Cart"})]}),o.jsxs("div",{className:" flex order-1 md:order-2 flex-col items-start  justify-start sticky top-1 z-10",children:[o.jsx("div",{className:" z-20   p-4",children:o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("div",{className:"flex   rounded-xl p-1 border border-white/20",children:["front","back"].map(c=>o.jsx("button",{onClick:()=>Qt(c),className:`px-5 py-1 rounded-lg font-bold text-sm transition-all duration-300 cursor-pointer ${a===c?"bg-linear-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/50":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:Zt,className:"py-1 px-5 bg-white/10 cursor-pointer hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Full Preview",children:o.jsx(gn,{className:"w-6 h-6 text-white","cursor-pointer":!0})}),o.jsx("button",{onClick:Jt,className:"py-1 px-5 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Download PNG",children:o.jsx(yn,{className:"w-6 h-6 text-white"})})]})]})}),w?o.jsx("p",{className:"text-red-500",children:w}):(tt=(et=g==null?void 0:g.product)==null?void 0:et.customization)!=null&&tt[a+"_image"]?o.jsxs("figure",{ref:v,className:"relative w-[700px] max-w-full",children:[o.jsx("img",{src:`/${g.product.customization[a+"_image"]}`,alt:`${a} view`,className:"w-full h-auto object-contain rounded-lg shadow-2xl",crossOrigin:"anonymous"}),o.jsxs("div",{ref:f,className:"absolute inset-0 flex items-center justify-center border-2 border-dotted border-white/50 rounded-xl overflow-hidden pointer-events-none",style:h,children:[d.uploadedImage&&o.jsx("img",{src:d.uploadedImage,alt:"Sticker",className:"absolute object-contain pointer-events-none",style:l}),d.texts.map(c=>c.title&&o.jsx("p",{className:"absolute font-bold text-center pointer-events-none select-none ",style:{fontSize:`${c.textSize}px`,color:c.titleColor,fontFamily:c.fontFamily,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:d.imagePosition==="below"?10:1,whiteSpace:"pre-wrap",maxWidth:"90%"},children:c.title},c.id))]})]}):o.jsxs("p",{className:"text-cream",children:["No ",a," image available."]})]})]})}),o.jsx(va,{isOpen:u,onRequestClose:$e,style:ya,contentLabel:"Preview Modal",ariaHideApp:!1,children:o.jsxs("div",{className:"flex flex-col items-center bg-white",children:[o.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-dark1",children:[a.charAt(0).toUpperCase()+a.slice(1)," ","Design Preview"]}),o.jsx("button",{onClick:$e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),o.jsx("div",{className:"flex justify-center w-full",children:w?o.jsx("p",{className:"text-red-500",children:w}):(rt=(nt=g==null?void 0:g.product)==null?void 0:nt.customization)!=null&&rt[a+"_image"]?o.jsxs("figure",{className:"relative w-full max-w-md h-auto",children:[o.jsx("div",{className:"relative w-full aspect-7/6",children:o.jsx("img",{src:`/${g.product.customization[a+"_image"]}`,alt:`${a} view`,className:"w-full h-full object-contain"})}),o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center rounded-xl overflow-hidden",style:h,children:[d.uploadedImage&&o.jsx("img",{src:d.uploadedImage,alt:"Uploaded sticker",className:"absolute object-contain",style:l,crossOrigin:"anonymous"}),d.texts.map(c=>c.title&&o.jsx("p",{className:"absolute wrap-word font-bold text-center w-full ",style:{fontSize:`${c.textSize}px`,color:c.titleColor,fontFamily:c.fontFamily,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:d.imagePosition==="below"?10:1},children:c.title},c.id))]})]}):o.jsxs("p",{children:["No ",a," image available for preview."]})}),o.jsx("button",{onClick:$e,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Close Preview"})]})})]})};export{Ca as default};
